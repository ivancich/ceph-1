From: Jason Dillaman <dillaman@redhat.com>
Date: Tue, 27 Sep 2016 14:47:02 -0400
Subject: librbd: fix journal create compilation error

Signed-off-by: Jason Dillaman <dillaman@redhat.com>

Resolves: rhbz#1349955
---
 src/librbd/Journal.cc | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/librbd/Journal.cc b/src/librbd/Journal.cc
index 4822b60..096739c 100644
--- a/src/librbd/Journal.cc
+++ b/src/librbd/Journal.cc
@@ -380,14 +380,14 @@ int Journal<I>::create(librados::IoCtx &io_ctx, const std::string &image_id,
 
   cls::journal::Client client;
   cls::journal::Tag tag;
-  journal::TagData tag_data;
 
   assert(non_primary ^ primary_mirror_uuid.empty());
   std::string mirror_uuid = (non_primary ? primary_mirror_uuid :
                                            LOCAL_MIRROR_UUID);
+  journal::TagPredecessor predecessor;
   r = allocate_journaler_tag(cct, &journaler, client,
-                             cls::journal::Tag::TAG_CLASS_NEW,
-                             tag_data, mirror_uuid, &tag);
+			     cls::journal::Tag::TAG_CLASS_NEW,
+                             predecessor, mirror_uuid, &tag);
 
   bufferlist client_data;
   ::encode(journal::ClientData{journal::ImageClientMeta{tag.tag_class}},
